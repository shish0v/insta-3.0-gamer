# BlueEmojiTracker

Приложение для отслеживания синих объектов на экране, управляющее курсором мыши.

## Возможности

- Отслеживание синих объектов в выбранной области экрана
- Перемещение курсора мыши на отслеживаемый объект
- Настраиваемая область захвата
- Оптимизировано для высокой производительности
- **Сохранение и загрузка настроек** между сеансами работы
- Настраиваемые параметры отслеживания:
  - Настройки определения синего цвета (минимальное значение синего, максимальные значения красного и зеленого)
  - Параметры стабильности движения курсора
  - Минимальное количество синих пикселей для отслеживания
- Предварительный просмотр области захвата
- Точное позиционирование курсора на наиболее интенсивно синем пикселе
- Индикация статуса отслеживания в интерфейсе

## Требования

- macOS 10.15 или новее
- Доступ к функции записи экрана (требуется разрешение в настройках безопасности)

## Установка

1. Клонируйте репозиторий или скачайте исходный код
2. Откройте терминал и перейдите в директорию проекта
3. Запустите скрипт установки:

```bash
./install.sh
```

Скрипт создаст полноценное приложение macOS на рабочем столе.

## Использование

1. После установки запустите приложение, дважды щелкнув по иконке `BlueEmojiTracker.app` на рабочем столе.
2. Настройте область захвата, введя координаты (X, Y, ширина, высота) в окне настроек.
3. Воспользуйтесь кнопкой "Показать область захвата" для проверки выбранной области.
4. При необходимости отрегулируйте параметры определения синего цвета и стабильности движения.
5. Нажмите "Применить" для сохранения настроек.
6. Запустите отслеживание с помощью кнопки "Начать отслеживание" в окне настроек.
7. Для остановки отслеживания нажмите "Остановить отслеживание".

### Сохранение настроек

После настройки параметров вы можете сохранить их для автоматической загрузки при следующем запуске:

1. Нажмите кнопку "Сохранить настройки" в нижней части окна настроек
2. Или нажмите "Да" в диалоговом окне, которое появляется после нажатия кнопки "Применить"

Сохраненные настройки автоматически загружаются при запуске приложения.

## Настройка параметров

### Область захвата

Определяет часть экрана, в которой будет происходить поиск синего объекта:
- X, Y: координаты левого верхнего угла
- Ширина, Высота: размеры области

Вы можете использовать предустановленные конфигурации:
- "По центру экрана" - размещает большую область в центре экрана
- "Минимальная область" - создает небольшую область в центре экрана

### Параметры определения синего цвета

Позволяют настроить точность распознавания синего объекта:
- Мин. синий (0-255): минимальное значение синей составляющей для пикселя
- Макс. красный (0-255): максимальное значение красной составляющей
- Макс. зеленый (0-255): максимальное значение зеленой составляющей

### Параметры стабильности

Настройки для плавности движения курсора:
- Порог движения: минимальное расстояние, которое должен пройти курсор для обновления положения
- Сглаживание: коэффициент сглаживания движения (от 0.1 до 0.9)
- Мин. кол-во пикселей: минимальное количество синих пикселей для активации отслеживания

## Устранение неполадок

### Курсор не следует за синим объектом

- Убедитесь, что синий объект находится в области захвата
- Проверьте настройки определения синего цвета (возможно, значения нужно изменить)
- Увеличьте область захвата
- Уменьшите значение "Мин. кол-во пикселей"

### Курсор двигается неустойчиво

- Увеличьте значение "Сглаживание" для более плавного движения
- Увеличьте "Порог движения" чтобы уменьшить микродвижения

### Приложение вылетает или работает некорректно

- Убедитесь, что область захвата не выходит за границы экрана
- Проверьте, что все числовые параметры введены корректно
- Попробуйте восстановить настройки по умолчанию с помощью кнопки "По центру экрана"

### Невозможно запустить приложение

- Проверьте, что у Terminal (или другого используемого приложения) есть доступ к записи экрана в настройках безопасности
- Убедитесь, что вы используете macOS 10.15 или новее

## Примечания

Приложение может быть использовано для различных сценариев:
- Отслеживание движущегося синего объекта на видео
- Следование за синими элементами интерфейса
- Экспериментальные проекты взаимодействия человек-компьютер

## Обновление с предыдущих версий

Если у вас установлена предыдущая версия, закройте её перед установкой новой версии. Новая версия запускается как независимое macOS приложение и не требует работающего терминала. При первом запуске новой версии настройки из предыдущей версии не сохраняются, их нужно настроить заново и сохранить. 